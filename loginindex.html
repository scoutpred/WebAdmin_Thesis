<!DOCTYPE html>
<html lang="en"><script type="module" src="https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="loginstyle.css">
  <title>Admin Login</title>
</head>
<body>
  <div class="login-wrapper">
    <form action="" class="form">
      <img src="img/avatar.png" alt="">
      <h2>Login</h2>
      <div class="input-group">
        <input type="email" name="email" class="box" placeholder="Enter Email" id="loginUser">
        <input type="password" name="password" class="box" placeholder="Enter Password" id="loginPassword">
      </div>
      <button type="submit" value="Login" class="submit-btn" onclick="signIn()">Log In</button>
      <!--<a href="#forgot-pw" class="forgot-pw">Forgot Password?</a>

      
    </form>

    <div id="forgot-pw">
      <form action="" class="form">
        <a href="#" class="close">&times;</a>
        <h2>Reset Password</h2>
        <div class="input-group">
          <input type="email" name="email" id="email" required>
          <label for="email">Email</label>
        </div>
        <input type="submit" value="Submit" class="submit-btn" >
      </form>
    </div>
    -->
  </div>
</body>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyDNt8pgzy44Nskp6WHUTSFPNu7KU7Dgjvo",
    authDomain: "finalmlproj2.firebaseapp.com",
    projectId: "finalmlproj2",
    storageBucket: "finalmlproj2.appspot.com",
    messagingSenderId: "1084420080026",
    appId: "1:1084420080026:web:39ee1ca5b9d540fa90ba23"
  };
  
  // Initialize Firebase
  
firebase.initializeApp(firebaseConfig);
let db = firebase.firestore();
const auth = firebase.auth();

function signOut(){

		auth.signOut();
		alert("Signed Out");

	}

function signIn(){

		var email = document.getElementById("loginUser");
    
		var password = document.getElementById("loginPassword");
		firebase.auth().signInWithEmailAndPassword(email.value, password.value)
.then(function(){
  console.log("Email is " + email.value);
})
.catch(function(error) {
      // Handle Errors here.
      var errorCode = error.code;
      var errorMessage = error.message;

        if (errorCode === 'auth/user-not-found') {
           
        } else if (errorCode === 'auth/wrong-password') {
           
        }

      // ... look at all the possible Error codes in the doc to handle the different cases

});

	}
  
  firebase.auth().onAuthStateChanged((user) => {
    if (user) {
      alert("Logged in!");
    
        window.location.replace("index.html");
    } else {
     signOut()
    }
  });
  
  
  
  </script>
    

  

</html>